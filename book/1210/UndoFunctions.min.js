// Copyright 2011 David Galles, University of San Francisco. All rights reserved.
//
// Redistribution and use in source and binary forms, with or without modification, are
// permitted provided that the following conditions are met:
//
// 1. Redistributions of source code must retain the above copyright notice, this list of
// conditions and the following disclaimer.
//
// 2. Redistributions in binary form must reproduce the above copyright notice, this list
// of conditions and the following disclaimer in the documentation and/or other materials
// provided with the distribution.
//
// THIS SOFTWARE IS PROVIDED BY <COPYRIGHT HOLDER> ``AS IS'' AND ANY EXPRESS OR IMPLIED
// WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
// FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> OR
// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
// SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
// ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
// NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
// ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
//
// The views and conclusions contained in the software and documentation are those of the
// authors and should not be interpreted as representing official policies, either expressed
// or implied, of the University of San Francisco

// Base "class": UndoBlock
function UndoBlock(){}function UndoMove(e,t,n,r,i){this.objectID=e;this.fromX=t;this.fromY=n;this.toX=r;this.toY=i}function UndoCreate(e){this.objectID=e}function UndoHighlight(e,t){this.objectID=e;this.highlightValue=t}function UndoSetHeight(e,t){this.objectID=e;this.height=t}function UndoSetWidth(e,t){this.objectID=e;this.width=t}function UndoSetNumElements(e,t){this.objectID=e.objectID;this.sizeBeforeChange=e.getNumElements();this.sizeAfterChange=t;if(this.sizeBeforeChange>this.sizeAfterChange){this.labels=new Array(this.sizeBeforeChange-this.sizeAfterChange);this.colors=new Array(this.sizeBeforeChange-this.sizeAfterChange);for(var n=0;n<this.sizeBeforeChange-this.sizeAfterChange;n++){this.labels[n]=e.getText(n+this.sizeAfterChange);this.colors[n]=e.getTextColor(n+this.sizeAfterChange)}}}function UndoSetAlpha(e,t){this,objectID=e;this.alphaVal=t}function UndoSetNull(e,t){this.objectID=e;this.nullVal=t}function UndoSetForegroundColor(e,t){this.objectID=e;this.color=t}function UndoSetBackgroundColor(e,t){this.objectID=e;this.color=t}function UndoSetText(e,t,n){this.objectID=e;this.newText=t;this.labelIndex=n}function UndoSetTextColor(e,t,n){this.objectID=e;this.color=t;this.index=n}function UndoHighlightEdge(e,t,n){this.fromID=e;this.toID=t;this.highlightValue=n}function UndoSetEdgeColor(e,t,n){this.fromID=e;this.toID=t;this.color=n}function UndoSetEdgeAlpha(e,t,n){this.fromID=e;this.toID=t;this.alpha=n}function UndoSetPosition(e,t,n){this.objectID=e;this.x=t;this.y=n}UndoBlock.prototype.addUndoAnimation=function(e){return false};UndoBlock.prototype.undoInitialStep=function(e){};UndoMove.prototype=new UndoBlock;UndoMove.prototype.constructor=UndoMove;UndoMove.prototype.addUndoAnimation=function(e){var t=new SingleAnimation(this.objectID,this.fromX,this.fromY,this.toX,this.toY);e.push(t);return true};UndoCreate.prototype=new UndoBlock;UndoCreate.prototype.constructor=UndoCreate;UndoCreate.prototype.undoInitialStep=function(e){e.removeObject(this.objectID)};UndoHighlight.prototype=new UndoBlock;UndoHighlight.prototype.constructor=UndoHighlight;UndoHighlight.prototype.undoInitialStep=function(e){e.setHighlight(this.objectID,this.highlightValue)};UndoSetHeight.prototype=new UndoBlock;UndoSetHeight.prototype.constructor=UndoSetHeight;UndoSetHeight.prototype.undoInitialStep=function(e){e.setHeight(this.objectID,this.height)};UndoSetWidth.prototype=new UndoBlock;UndoSetWidth.prototype.constructor=UndoSetWidth;UndoSetWidth.prototype.undoInitialStep=function(e){e.setWidth(this.objectID,this.width)};UndoSetNumElements.prototype=new UndoBlock;UndoSetNumElements.prototype.constructor=UndoSetNumElements;UndoSetNumElements.prototype.undoInitialStep=function(e){e.setNumElements(this.objectID,this.sizeBeforeChange);if(this.sizeBeforeChange>this.sizeAfterChange){for(var t=0;t<this.sizeBeforeChange-this.sizeAfterChange;t++){e.setText(this.objectID,this.labels[t],t+this.sizeAfterChange);e.setTextColor(this.objectID,this.colors[t],t+this.sizeAfterChange)}}};UndoSetAlpha.prototype=new UndoBlock;UndoSetAlpha.prototype.constructor=UndoSetAlpha;UndoSetAlpha.prototype.undoInitialStep=function(e){e.setAlpha(this.objectID,this.alphaVal)};UndoSetNull.prototype=new UndoBlock;UndoSetNull.prototype.constructor=UndoSetNull;UndoSetNull.prototype.undoInitialStep=function(e){e.setNull(this.objectID,this.nullVal)};UndoSetForegroundColor.prototype=new UndoBlock;UndoSetForegroundColor.prototype.constructor=UndoSetForegroundColor;UndoSetForegroundColor.prototype.undoInitialStep=function(e){e.setForegroundColor(this.objectID,this.color)};UndoSetBackgroundColor.prototype=new UndoBlock;UndoSetBackgroundColor.prototype.constructor=UndoSetBackgroundColor;UndoSetBackgroundColor.prototype.undoInitialStep=function(e){e.setBackgroundColor(this.objectID,this.color)};UndoSetText.prototype=new UndoBlock;UndoSetText.prototype.constructor=UndoSetText;UndoSetText.prototype.undoInitialStep=function(e){e.setText(this.objectID,this.newText,this.labelIndex)};UndoSetTextColor.prototype=new UndoBlock;UndoSetTextColor.prototype.constructor=UndoSetTextColor;UndoSetTextColor.prototype.undoInitialStep=function(e){e.setTextColor(this.objectID,this.color,this.index)};UndoHighlightEdge.prototype=new UndoBlock;UndoHighlightEdge.prototype.constructor=UndoHighlightEdge;UndoHighlightEdge.prototype.undoInitialStep=function(e){e.setEdgeHighlight(this.fromID,this.toID,this.highlightValue)};UndoSetEdgeColor.prototype=new UndoBlock;UndoSetEdgeColor.prototype.constructor=UndoSetEdgeColor;UndoSetEdgeColor.prototype.undoInitialStep=function(e){e.setEdgeColor(this.fromID,this.toID,this.color)};UndoSetEdgeAlpha.prototype=new UndoBlock;UndoSetEdgeAlpha.prototype.constructor=UndoSetEdgeAlpha;UndoSetEdgeAlpha.prototype.undoInitialStep=function(e){e.setEdgeAlpha(this.fromID,this.toID,this.alpha)};UndoSetPosition.prototype=new UndoBlock;UndoSetPosition.prototype.constructor=UndoSetPosition;UndoSetPosition.prototype.undoInitialStep=function(e){e.setNodePosition(this.objectID,this.x,this.y)}